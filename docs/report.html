<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Assessing Top Soccer Player Statistics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">TEAM NAME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./proposal.html">
 <span class="menu-text">Proposal</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./eda.html">
 <span class="menu-text">Exploratory data analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./pre-registration.html">
 <span class="menu-text">Pre-registered analyses</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./presentation.html">
 <span class="menu-text">Presentation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./report.html" aria-current="page">
 <span class="menu-text">Report</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./appendicies.html">
 <span class="menu-text">Appendicies</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data-description" id="toc-data-description" class="nav-link" data-scroll-target="#data-description">Data description</a></li>
  <li><a href="#data-analysis" id="toc-data-analysis" class="nav-link" data-scroll-target="#data-analysis">Data analysis</a>
  <ul class="collapse">
  <li><a href="#analysis-2" id="toc-analysis-2" class="nav-link" data-scroll-target="#analysis-2">Analysis #2:</a></li>
  </ul></li>
  <li><a href="#evaluation-of-significance" id="toc-evaluation-of-significance" class="nav-link" data-scroll-target="#evaluation-of-significance">Evaluation of significance</a></li>
  <li><a href="#interpretation-and-conclusions" id="toc-interpretation-and-conclusions" class="nav-link" data-scroll-target="#interpretation-and-conclusions">Interpretation and conclusions</a></li>
  <li><a href="#limitations" id="toc-limitations" class="nav-link" data-scroll-target="#limitations">Limitations</a></li>
  <li><a href="#acknowledgments" id="toc-acknowledgments" class="nav-link" data-scroll-target="#acknowledgments">Acknowledgments</a></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix">Appendix</a>
  <ul class="collapse">
  <li><a href="#data-collection-and-cleaning" id="toc-data-collection-and-cleaning" class="nav-link" data-scroll-target="#data-collection-and-cleaning">Data Collection and Cleaning</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Assessing Top Soccer Player Statistics</h1>
<p class="subtitle lead">Report</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>The motivation behind this project was to determine whether or not there were relationships between soccer players, leagues, and their respective statistics. Each observation represents a player, and columns represent descriptors such as height, weight, nationality, passes, goals scored, assists, penalties, etc. Since soccer is such a popular global sport, we aimed to answer the following research questions in our project:</p>
<ul>
<li><p>RQ 1 (Players): What factors influence booking frequency of players? Some factors we considered were player height, weight, age, and player rating.</p></li>
<li><p>RQ 2 (Leagues): Does aggressiveness differ between European and non-European leagues? Aggressiveness was indirectly measured through average penalties per game, average goals per minute, average shots per game, and average number of duels per game.</p></li>
</ul>
<p>Summary of findings/results: XXXXX (to be filled in after)</p>
</section>
<section id="data-description" class="level1">
<h1>Data description</h1>
<p>The data for the top 20 football goal scorers in 2021 for the leagues specified in our GET request were sourced from: https://www.api-football.com/documentation-v3.</p>
<p>This dataset was created to rank and compare the top scoring football players across top leagues. This could be helpful for football fans, sports betters, or data scientists. There are 560 observations and 51 attributes (columns). The dataset contains player statistics (ex/ number of appearances, number of minutes played, number of yellow or red cards attained) for the top 20 scorers from the top 27 football leagues for the 2021 league season. The people involved are football players, who are aware of data collection, as this occurs during and after all of their games, because sports data is typically used to make general comparison (past/future versions of themselves, comparing their team to another, or between leagues, sports reporting (to football fans), or MVP decisions. As this is game data, it was likely influenced by referee rulings, as some scores may not have counted in the final game statistics.</p>
<ul>
<li><p>What preprocessing was done</p>
<ul>
<li><p>(see above in Data collection and cleaning)</p></li>
<li><p><strong><em>Summarize more briefly??:</em></strong> The data was first collected by making API calls from https://www.api-football.com/documentation-v3 for various soccer leagues. We did this my making a GET request to their top scorers endpoint, supplying parameters for each of 27 top leagues in 2021. From this we collected 20 goal scorers for each respective league as we specified per the query string parameters. From this point, we used the jsonlite library to flatten the JSON API responses into a tibble and then exported the tibble to a CSV file.</p>
<p>Once we had our data stored in a CSV file, we wrote code to load it in R and then began the cleaning process. The main reason why we stored the data to a CSV rather than dynamically making API calls is due to the rate limits and fees associated with using the API. For the main cleaning process, we utilized the clean_names function from the janitor library to make sure our variable names conform to R naming conventions. After this, we dropped the columns we would not be using by employing a select statement on our data frame. Originally, our data set had columns that were relevant to goalkeepers, defenders, and other players that are not primarily goalscorers. We also noticed that our height and weight columns were not sanitized and in character form versus numeric, thus we sanitized these columns added the units to the variable name and dropped the old columns. Lastly, we made sure to remove any columns that appeared to be duplicates like player_id_48, player_id_1, and player_firstname.</p></li>
</ul></li>
</ul>
</section>
<section id="data-analysis" class="level1">
<h1>Data analysis</h1>
<div class="cell">

</div>
<div class="cell">

</div>
<section id="analysis-1-what-factors-influence-booking-frequency-of-players" class="level4">
<h4 class="anchored" data-anchor-id="analysis-1-what-factors-influence-booking-frequency-of-players">Analysis #1: What factors influence booking frequency of players?</h4>
<p>Specifically, does player height, weight, age, or games rating have</p>
<p>Pre-registered hypothesis: Taller, heavier, older, and more highly rated players get booked more frequently than shorter, less heavy, younger, less highly rated players.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="report_files/figure-html/eda-plots-1-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/eda-plots-1-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/eda-plots-1-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/eda-plots-1-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/eda-plots-1-5.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 5
  term             estimate std.error statistic p.value
  &lt;chr&gt;               &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
1 (Intercept)        9.18      5.62       1.63   0.103 
2 player_height_cm   0.0344    0.0299     1.15   0.251 
3 player_weight_lb  -0.0168    0.0128    -1.31   0.190 
4 player_age        -0.0235    0.0336    -0.698  0.485 
5 games_rating      -1.13      0.524     -2.15   0.0321</code></pre>
</div>
</div>
<p>Based on the above results, player rating is the only predictor with a p-value &lt; the significance level, 0.05. Based on the side-by-side box plot representing the distribution of total bookings for highly rated players vs non-highly rated players, it appears as though non-highly ranked players get booked more frequently. However, the visualization itself does not tell us if that difference is significant. The following hypothesis test is to determine whether or not the true difference in population means of higher rated players (players with ratings &gt;= mean rating) and lower rated players (players with ratings &lt; mean rating) is significant:</p>
<ul>
<li><p>Null Hypothesis: The true population mean of bookings for non-highly rated players is greater than the true population mean of bookings for highly rated players, on average. <span class="math display">\[ \mu_{non-high} - \mu_{high} &gt; 0 \]</span></p></li>
<li><p>Alternative Hypothesis: The true population mean of bookings for non-highly rated players is not greater than the true population mean of bookings for highly rated players, on average.</p></li>
</ul>
<p><span class="math display">\[
\mu_{non-high} - \mu_{high} \leq 0
\]</span></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  p_value
    &lt;dbl&gt;
1    0.01</code></pre>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/hyp-test-rank-book-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The p-value (0.01) is &lt; alpha i.e.&nbsp;significance level of 0.05, therefore we reject the null hypothesis. The data provides convincing evidence that on average, true population mean of bookings for non-highly rated players is not greater than the true population mean of bookings for highly rated players.</p>
</section>
<section id="analysis-2" class="level3">
<h3 class="anchored" data-anchor-id="analysis-2">Analysis #2:</h3>
<p>Question: Are some leagues more aggressive, on average, than others?</p>
<p>Pre-registered hypothesis: European leagues are, on average, more aggressive than non-European leagues (i.e.&nbsp;more fouls, more goals per minute, and more duels.)</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="report_files/figure-html/analysis-plots-2-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/analysis-plots-2-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/analysis-plots-2-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/analysis-plots-2-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="report_files/figure-html/analysis-plots-2-5.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 5
  term                 estimate std.error statistic     p.value
  &lt;chr&gt;                   &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;
1 (Intercept)          -1.98      0.489      -4.04  0.0000528  
2 avg_penalty_by_game  -2.76      1.51       -1.82  0.0686     
3 avg_goals_per_min   305.       65.9         4.62  0.00000387 
4 avg_shots_per_game   -0.196     0.210      -0.932 0.351      
5 duels_total           0.00564   0.00106     5.29  0.000000120</code></pre>
</div>
</div>
</section>
</section>
<section id="evaluation-of-significance" class="level1">
<h1>Evaluation of significance</h1>
<p>Analysis 2: Does the number of duels, on average, differ between European and non-European leagues?</p>
<ul>
<li><p>Null hypothesis: The true population mean of duels for European and non-European players are not different, on average. <strong>The true population mean of duels for European is greater than the true population mean for non-European players, on average. dif EU - nonEU &gt; 0</strong> <span class="math display">\[ \mu_{EU duel} - \mu_{non-EU duel} = 0 \]</span></p></li>
<li><p>Alt hypothesis: The true population mean of duels for European and non-European players are different, on average.</p></li>
</ul>
<p><span class="math display">\[ \mu_{EU duel} - \mu_{non-EU duel} \not= 0
\]</span></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  p_value
    &lt;dbl&gt;
1       0</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  p_value
    &lt;dbl&gt;
1       0</code></pre>
</div>
</div>
<p>The p-value is &lt; alpha i.e significance level of 0.05, therefore we reject the null hypothesis. The data provides convincing evidence that the true population mean of bookings for highly rater players and non-highly rated players are different, on average.</p>
<p>Analysis 2: Does the amount of goals per minute, on average, differ between European and non-European leagues?</p>
<ul>
<li><p>Null hypothesis: The true population mean of goals per minute for European and non-European players are not different, on average. <em>One sided: The true population mean of goals per minute for European &gt; non-European players (from EDA), on average.</em> <span class="math display">\[ \mu_{EU gpm} - \mu_{non-EU gpm} = 0 \]</span></p></li>
<li><p>Alt hypothesis: The true population mean of goals per minute for European and non-European players are different, on average.</p></li>
</ul>
<p><span class="math display">\[ \mu_{EU gpm} - \mu_{non-EU gpm} \not= 0
\]</span></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  p_value
    &lt;dbl&gt;
1   0.196</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  p_value
    &lt;dbl&gt;
1   0.098</code></pre>
</div>
</div>
<p>In running the hypothesis test, we get a p-value of 0.196 which is greater than the significance level of 0.05. Thus, we fail to reject the null hypothesis and conclude that there is not a proven statistically significant difference in the population means of average goals per minute of European vs Non-European leagues.</p>
</section>
<section id="interpretation-and-conclusions" class="level1">
<h1>Interpretation and conclusions</h1>
<p>Based on the above EDA and a constant slope on the lines of best fit between variables X and Y, there did not appear to be a correlation between:</p>
<ul>
<li><p>height v booking frequency</p></li>
<li><p>weight v booking frequency</p></li>
<li><p>player_rating v booking frequency (not statistically significant, see above A1)</p>
<ul>
<li>this was further supported by hypothesis testing conducted in the “Evaluation of Significance” section (Analysis 1), whose conclusion supported that because p-value &gt; 0.05, we fail to reject the null hypothesis. I.e. <em>the data does not provide convincing evidence that the true population mean of bookings for highly rater players and non-highly rated players are different, on average.</em></li>
</ul></li>
<li><p>league v. goals per min</p></li>
<li><p>league v. shots per game</p></li>
<li><p>league v. penalties per game</p></li>
</ul>
<p>However, the following relationships were found to be significant:</p>
<ul>
<li><p>league v. duels per game</p>
<ul>
<li>This was further supported by hypothesis testing conducted in the “Evaluation of Significance” section (Analysis 2), whose conclusion supported that since the p-value is &lt; 0.05, we reject the null hypothesis. I.e. <em>the data provides convincing evidence that the true population mean of bookings for highly rater players and non-highly rated players are different, on average.</em></li>
</ul></li>
</ul>
</section>
<section id="limitations" class="level1">
<h1>Limitations</h1>
<p>One limitation of this dataset is that it only contains information from the 2021 season. Therefore, we cannot make comparisons within groups (player, team, or league) over time. We also assume that there are no goalies in the dataset (best scorers i.e.&nbsp;offensive players), as this only contains goal scorers. Therefore, we are unable to assess a team’s defense, which can be important when considering how good a team is!</p>
<p><strong><em>Add: is there a bias in our data?</em></strong></p>
</section>
<section id="acknowledgments" class="level1">
<h1>Acknowledgments</h1>
<p>In working on our project, we found several resources to be useful. For one, we would like to give credit to the API that we used to collect the data as well as to Stack Overflow for assisting with the API interaction as well as JSON handling in R. More specifically, the API was provided by https://www.api-football.com and specific documentation on how to interact with the endpoints in different languages was given by RapidAPI.</p>
<p>Apart from this, we took inspiration from some of the organization we saw during our peer review section. Specifically, after looking at the Skillful Charmander group, we decided to re-organize our analysis sections.</p>
<p>Beyond our specific technical and organizational acknowledgements, we would like to acknowledge our appreciation for the course staff and teaching assistants who helped us in answering any questions we have had along the way.</p>
</section>
<section id="appendix" class="level1">
<h1>Appendix</h1>
<section id="data-collection-and-cleaning" class="level3">
<h3 class="anchored" data-anchor-id="data-collection-and-cleaning">Data Collection and Cleaning</h3>
<p>The data for the top 20 football goal scorers in 2021 for the leagues specified in our GET request were sourced from: https://www.api-football.com/documentation-v3.</p>
<p>Have an initial draft of your data cleaning appendix. Document every step that takes your raw data file(s) and turns it into the analysis-ready data set that you would submit with your final project. Include text narrative describing your data collection (downloading, scraping, surveys, etc) and any additional data curation/cleaning (merging data frames, filtering, transformations of variables, etc). Include code for data curation/cleaning, but not collection.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 560 × 51
   team_id team_name  team_logo league_id league_name league_country league_logo
     &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;          &lt;chr&gt;      
 1      47 Tottenham  https://…        39 Premier Le… England        https://me…
 2      40 Liverpool  https://…        39 Premier Le… England        https://me…
 3      33 Mancheste… https://…        39 Premier Le… England        https://me…
 4      47 Tottenham  https://…        39 Premier Le… England        https://me…
 5      40 Liverpool  https://…        39 Premier Le… England        https://me…
 6      50 Mancheste… https://…        39 Premier Le… England        https://me…
 7      40 Liverpool  https://…        39 Premier Le… England        https://me…
 8      46 Leicester  https://…        39 Premier Le… England        https://me…
 9      52 Crystal P… https://…        39 Premier Le… England        https://me…
10      50 Mancheste… https://…        39 Premier Le… England        https://me…
# ℹ 550 more rows
# ℹ 44 more variables: league_flag &lt;chr&gt;, games_appearences &lt;dbl&gt;,
#   games_lineups &lt;dbl&gt;, games_minutes &lt;dbl&gt;, games_position &lt;chr&gt;,
#   games_rating &lt;dbl&gt;, games_captain &lt;lgl&gt;, substitutes_in &lt;dbl&gt;,
#   substitutes_out &lt;dbl&gt;, substitutes_bench &lt;dbl&gt;, shots_total &lt;dbl&gt;,
#   shots_on &lt;dbl&gt;, goals_total &lt;dbl&gt;, goals_conceded &lt;dbl&gt;,
#   goals_assists &lt;dbl&gt;, passes_total &lt;dbl&gt;, passes_key &lt;dbl&gt;, …</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 560
Columns: 51
$ team_id               &lt;dbl&gt; 47, 40, 33, 47, 40, 50, 40, 46, 52, 50, 48, 46, …
$ team_name             &lt;chr&gt; "Tottenham", "Liverpool", "Manchester United", "…
$ team_logo             &lt;chr&gt; "https://media-2.api-sports.io/football/teams/47…
$ league_id             &lt;dbl&gt; 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, 39, …
$ league_name           &lt;chr&gt; "Premier League", "Premier League", "Premier Lea…
$ league_country        &lt;chr&gt; "England", "England", "England", "England", "Eng…
$ league_logo           &lt;chr&gt; "https://media-2.api-sports.io/football/leagues/…
$ league_flag           &lt;chr&gt; "https://media-2.api-sports.io/flags/gb.svg", "h…
$ games_appearences     &lt;dbl&gt; 35, 35, 30, 37, 34, 30, 35, 25, 33, 30, 36, 35, …
$ games_lineups         &lt;dbl&gt; 35, 30, 27, 36, 32, 25, 27, 20, 31, 23, 34, 28, …
$ games_minutes         &lt;dbl&gt; 3021, 2762, 2459, 3232, 2825, 2205, 2373, 1806, …
$ games_position        &lt;chr&gt; "Attacker", "Attacker", "Attacker", "Attacker", …
$ games_rating          &lt;dbl&gt; 7.505714, 7.391428, 7.260000, 7.378378, 7.202941…
$ games_captain         &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE,…
$ substitutes_in        &lt;dbl&gt; 0, 5, 3, 1, 2, 5, 8, 5, 2, 7, 2, 7, 1, 5, 2, 2, …
$ substitutes_out       &lt;dbl&gt; 15, 5, 6, 1, 7, 9, 17, 5, 2, 6, 12, 14, 0, 7, 5,…
$ substitutes_bench     &lt;dbl&gt; 0, 5, 3, 1, 2, 8, 9, 7, 2, 14, 2, 7, 1, 8, 2, 2,…
$ shots_total           &lt;dbl&gt; 69, 101, 80, 97, 66, 56, 71, 47, 51, 46, 56, 54,…
$ shots_on              &lt;dbl&gt; 49, 60, 43, 55, 39, 31, 33, 26, 32, 28, 34, 34, …
$ goals_total           &lt;dbl&gt; 23, 23, 18, 17, 16, 15, 15, 15, 14, 13, 12, 12, …
$ goals_conceded        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
$ goals_assists         &lt;dbl&gt; 7, 13, 3, 9, 2, 8, 4, 2, 1, 5, 10, 8, 5, 10, 2, …
$ passes_total          &lt;dbl&gt; 1015, 1079, 879, 874, 1036, 1358, 744, 251, 909,…
$ passes_key            &lt;dbl&gt; 73, 64, 26, 53, 43, 87, 41, 18, 47, 42, 42, 49, …
$ passes_accuracy       &lt;dbl&gt; 25, 24, 24, 16, 23, 37, 15, 7, 22, 23, 15, 22, 1…
$ tackles_total         &lt;dbl&gt; 15, 17, 8, 15, 33, 32, 39, 6, 40, 23, 36, 40, 33…
$ tackles_blocks        &lt;dbl&gt; 6, 1, NA, 8, 1, 2, 2, NA, NA, NA, 2, 3, 2, 1, 3,…
$ tackles_interceptions &lt;dbl&gt; 13, 6, 2, 3, 8, 6, 6, 1, 5, 12, 21, 11, 14, 13, …
$ duels_total           &lt;dbl&gt; 270, 309, 217, 437, 361, 209, 384, 141, 506, 278…
$ duels_won             &lt;dbl&gt; 118, 100, 88, 198, 160, 101, 143, 51, 228, 117, …
$ dribbles_attempts     &lt;dbl&gt; 92, 124, 32, 100, 77, 55, 69, 22, 152, 112, 88, …
$ dribbles_success      &lt;dbl&gt; 51, 53, 20, 54, 47, 31, 27, 9, 75, 53, 50, 31, 2…
$ fouls_drawn           &lt;dbl&gt; 36, 23, 18, 54, 50, 27, 40, 12, 101, 37, 43, 64,…
$ fouls_committed       &lt;dbl&gt; 14, 12, 16, 42, 50, 21, 41, 13, 37, 19, 25, 22, …
$ cards_yellow          &lt;dbl&gt; 2, 1, 8, 5, 5, 2, 3, 2, 5, 1, 6, 3, 8, 4, 7, 6, …
$ cards_yellowred       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, …
$ cards_red             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
$ penalty_scored        &lt;dbl&gt; 0, 5, 3, 4, 0, 0, 0, 0, 5, 2, 0, 0, 5, 1, 1, 2, …
$ penalty_missed        &lt;dbl&gt; 0, 1, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 0, 0, …
$ player_name           &lt;chr&gt; "Son Heung-Min", "Mohamed Salah", "Cristiano Ron…
$ player_lastname       &lt;chr&gt; "Son", "Salah Hamed Mahrous Ghaly", "dos Santos …
$ player_age            &lt;dbl&gt; 31, 31, 38, 30, 31, 32, 27, 36, 31, 29, 27, 27, …
$ player_nationality    &lt;chr&gt; "Korea Republic", "Egypt", "Portugal", "England"…
$ player_injured        &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE,…
$ player_photo          &lt;chr&gt; "https://media-1.api-sports.io/football/players/…
$ player_birth_date     &lt;date&gt; 1992-07-08, 1992-06-15, 1985-02-05, 1993-07-28,…
$ player_birth_place    &lt;chr&gt; "Chuncheon", "Muḥāfaẓat al Gharbiyya", "Funchal"…
$ player_birth_country  &lt;chr&gt; "Korea Republic", "Egypt", "Portugal", "England"…
$ id                    &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 1…
$ player_height_cm      &lt;dbl&gt; 184, 175, 187, 188, 175, 181, 178, 179, 180, 172…
$ player_weight_kg      &lt;dbl&gt; 77, 71, 83, 86, 69, 68, 68, 74, 66, 69, 70, 73, …</code></pre>
</div>
</div>
<p>The data was first collected by making API calls from https://www.api-football.com/documentation-v3 for various soccer leagues. We did this my making a GET request to their top scorers endpoint, supplying parameters for each of 27 top leagues in 2021. From this we collected 20 goal scorers for each respective league as we specified per the query string parameters. From this point, we used the jsonlite library to flatten the JSON API responses into a tibble and then exported the tibble to a CSV file.</p>
<p>Once we had our data stored in a CSV file, we wrote code to load it in R and then began the cleaning process. The main reason why we stored the data to a CSV rather than dynamically making API calls is due to the rate limits and fees associated with using the API. For the main cleaning process, we utilized the clean_names function from the janitor library to make sure our variable names conform to R naming conventions. After this, we dropped the columns we would not be using by employing a select statement on our data frame. Originally, our data set had columns that were relevant to goalkeepers, defenders, and other players that are not primarily goalscorers. We also noticed that our height and weight columns were not sanitized and in character form versus numeric, thus we sanitized these columns added the units to the variable name and dropped the old columns. Lastly, we made sure to remove any columns that appeared to be duplicates like player_id_48, player_id_1, and player_firstname.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>